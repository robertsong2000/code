%define RMODE_SPACE_HI		1
%define RMODE_SPACE		(RMODE_SPACE_HI * 0x10000)
%define RMODE_SPACE_SEG		(RMODE_SPACE_HI * 0x1000)

%define KERNEL_START_HI		2
%define KERNEL_START		(KERNEL_START_HI * 0x10000)
%define KERNEL_START_SEG	(KERNEL_START_HI * 0x1000)

%define	MASTER_PIC	0x20
%define SLAVE_PIC	0xA0
%define	IRQ_LO_PORT	0x21
%define	IRQ_HI_PORT	0xA1
%define	MASK_TIMER	11111110b	; IRQ_LO
%define	MASK_KBD	11111101b	; IRQ_LO
%define	KBD_PORT_A	0x60
%define	KBD_PORT_B	0x61
%define KBD_PORT_C	0x64
%define END_OF_INTERR	0x20

%define	ACC_GRANULARY	1000000000000000b
%define	ACC_DEF32SIZE	0100000000000000b
%define	ACC_AVL		0001000000000000b
%define ACC_LIMIT_MASK	0000111100000000b
%define ACC_LIMIT_MUL	0000000100000000b
%define ACC_PRESENT	10000000b
%define ACC_DPL_RING3	01100000b
%define ACC_DPL_RING2	01000000b
%define ACC_DPL_RING1	00100000b
%define ACC_DPL_RING0	00000000b
%define	ACC_USERSEG	00010000b
%define ACC_SYSTEMSEG	00000000b
%define ACC_TYPE_CODE	00001000b
%define ACC_TYPE_DATA	00000000b
%define ACC_TYPE_EXPDN	00000100b	; TYPE_DATA
%define ACC_TYPE_WRITE	00000010b	; TYPE_DATA
%define ACC_TYPE_CONF	00000100b	; TYPE_CODE
%define ACC_TYPE_READ	00000010b	; TYPE_CODE
%define ACC_ACCESSED	00000001b

%define	ACC_INTGATE	00001110b	; _IDT
%define ACC_TRAPGATE	00001111b	; _IDT

%define	MAX_TASKS	64

%define STATE_RUNNING	0
%define STATE_SLEEP	1
%define STATE_SENDW	2
%define STATE_STOP	3

%define	RESULT_INVALID_TASKID		1
%define	RESULT_INCORRECT_SYSCALL	2
%define	RESULT_TOO_MANY_MESSAGES	3
%define	RESULT_NO_MORE_MESSAGES		4
%define	RESULT_BUFFER_TOO_SMALL		5
%define	RESULT_INCORRECT_SYSCALL_PARAMS	6
%define	RESULT_TASK_NOT_FOUND		7

%define	CF_OR	0000000000000001b
%define	CF_AND	1111111111111110b
%define	ZF_OR	0000000001000000b
%define ZF_AND	1111111110111111b
